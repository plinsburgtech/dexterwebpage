<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dexter - Custom Gunsmith Services</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, #1a1a1a, #0f0f0f);
            border-bottom: 2px solid #ff6600;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
        }

        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .logo-text {
            color: #ff6600;
            font-size: 42px;
            font-weight: 700;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            color: #c0c0c0;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #ff6600;
        }

        .contact-btn {
            background: linear-gradient(135deg, #ff6600, #ff8533);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .contact-btn:hover {
            transform: translateY(-2px);
        }

        .hero {
            background: radial-gradient(ellipse at center, #1a1a1a, #0a0a0a);
            padding: 100px 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #ff6600, #ffaa66);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero .subtitle {
            color: #ff6600;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .hero p {
            font-size: 1.2rem;
            color: #b0b0b0;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-cta {
            background: linear-gradient(135deg, #ff6600, #ff8533);
            color: white;
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .hero-cta:hover {
            transform: translateY(-3px);
        }

        .about {
            padding: 80px 0;
            background: linear-gradient(135deg, #141414, #0f0f0f);
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .about-text h2 {
            font-size: 2.5rem;
            color: #ff6600;
            margin-bottom: 24px;
            font-weight: 600;
        }

        .about-text p {
            color: #c0c0c0;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .about-image {
            background: linear-gradient(135deg, #2a2a2a, #1f1f1f);
            border-radius: 16px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.1rem;
            border: 2px dashed rgba(255, 102, 0, 0.3);
        }

        .portfolio {
            padding: 80px 0;
            background: #0a0a0a;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: #ff6600;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .section-header p {
            color: #b0b0b0;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .portfolio-item {
            background: linear-gradient(135deg, #1a1a1a, #141414);
            border-radius: 20px;
            border: 1px solid rgba(255, 102, 0, 0.2);
            transition: transform 0.3s ease;
            overflow: hidden;
        }

        .portfolio-item:hover {
            transform: translateY(-8px);
        }

        .portfolio-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #2a2a2a, #1f1f1f);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            overflow: hidden;
        }

        .portfolio-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .portfolio-content {
            padding: 25px;
        }

        .portfolio-title {
            color: #ff6600;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .portfolio-description {
            color: #c0c0c0;
            margin-bottom: 15px;
        }

        .portfolio-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .spec-tag {
            background: rgba(255, 102, 0, 0.1);
            color: #ff6600;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .portfolio-status {
            text-align: center;
            font-weight: 600;
            padding: 8px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .status-sold {
            background: rgba(100, 100, 100, 0.2);
            color: #888;
        }

        .status-available {
            background: rgba(255, 102, 0, 0.2);
            color: #ff6600;
        }

        .contact {
            padding: 80px 0;
            background: linear-gradient(135deg, #141414, #0f0f0f);
        }

        .contact-info h2 {
            font-size: 2.5rem;
            color: #ff6600;
            margin-bottom: 30px;
            font-weight: 600;
            text-align: center;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 40px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 102, 0, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ff6600, #ff8533);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .contact-details h4 {
            font-weight: 600;
            color: #ff6600;
            margin-bottom: 5px;
        }

        .contact-details p {
            color: #c0c0c0;
        }

        .contact-details a {
            color: #ff6600;
            text-decoration: none;
        }

        footer {
            background: #050505;
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid rgba(255, 102, 0, 0.2);
        }

        .footer-logo {
            color: #ff6600;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .language-switcher {
            position: fixed;
            top: 20px;
            right: 150px;
            z-index: 1000;
            display: flex;
            gap: 5px;
        }

        .lang-btn {
            background: rgba(255, 102, 0, 0.1);
            color: #c0c0c0;
            border: 1px solid rgba(255, 102, 0, 0.3);
            padding: 8px 12px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
            text-transform: uppercase;
        }

        .lang-btn:hover {
            background: rgba(255, 102, 0, 0.2);
            color: #ff6600;
        }

        .lang-btn.active {
            background: #ff6600;
            color: white;
            border-color: #ff6600;
        }

        .admin-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .admin-toggle {
            background: #ff6600;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }

        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1001;
        }

        .admin-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1a1a1a;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #ff6600;
        }

        .admin-content h3 {
            color: #ff6600;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .github-config {
            background: rgba(255, 102, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .project-form {
            background: rgba(255, 102, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            color: #ff6600;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 5px;
            color: #fff;
            font-family: inherit;
        }

        .form-group textarea {
            height: 80px;
            resize: vertical;
        }

        .form-group small {
            color: #999;
            font-size: 0.9rem;
            display: block;
            margin-top: 5px;
        }

        .image-preview {
            margin-top: 10px;
            max-width: 200px;
            max-height: 150px;
            border-radius: 8px;
            display: none;
        }

        .btn {
            background: #ff6600;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .btn:hover {
            background: #ff8533;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-success:hover {
            background: #218838;
        }

        .current-projects {
            margin-top: 30px;
        }

        .project-item {
            background: rgba(255, 102, 0, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 102, 0, 0.1);
        }

        .project-item h4 {
            color: #ff6600;
            margin-bottom: 10px;
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            color: #ff6600;
            cursor: pointer;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            color: #ff6600;
            margin: 20px 0;
        }

        .status-indicator {
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            display: none;
        }

        .status-success {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border: 1px solid #28a745;
        }

        .status-error {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid #dc3545;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .about-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .portfolio-grid {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .nav-links {
                display: none;
            }

            .contact-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .language-switcher {
                right: 20px;
                top: 70px;
            }

            .admin-panel {
                top: 70px;
                right: 160px;
            }

            .admin-content {
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="lang-btn active" onclick="changeLanguage('pl')" id="langPl">PL</button>
        <button class="lang-btn" onclick="changeLanguage('en')" id="langEn">EN</button>
    </div>

    <div class="admin-panel">
        <button class="admin-toggle" onclick="openAdminPanel()" id="adminBtn">ZarzƒÖdzanie</button>
    </div>

    <div id="adminModal" class="admin-modal">
        <div class="admin-content">
            <button class="close-modal" onclick="closeAdminPanel()">&times;</button>
            <h3 id="adminTitle">ZarzƒÖdzanie katalogiem produkt√≥w</h3>
            
            <div id="statusIndicator" class="status-indicator"></div>
            
            <div class="github-config">
                <h4 style="color: #ff6600; margin-bottom: 15px;" id="githubConfigTitle">Konfiguracja GitHub</h4>
                <div class="form-group">
                    <label id="githubTokenLabel">GitHub Token:</label>
                    <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                    <small id="githubTokenHelp">Potrzebny do zapisywania zmian. Utw√≥rz w GitHub Settings > Developer settings > Personal access tokens</small>
                </div>
                <div class="form-group">
                    <label id="githubRepoLabel">Nazwa repozytorium:</label>
                    <input type="text" id="githubRepo" placeholder="username/repository-name">
                    <small id="githubRepoHelp">Format: username/repository-name</small>
                </div>
                <button class="btn btn-success" onclick="testGitHubConnection()" id="testConnectionBtn">Testuj po≈ÇƒÖczenie</button>
                <button class="btn" onclick="saveGitHubConfig()" id="saveConfigBtn">Zapisz konfiguracjƒô</button>
            </div>

            <div class="project-form">
                <h4 style="color: #ff6600; margin-bottom: 15px;" id="addProjectTitle">Dodaj nowy produkt</h4>
                <form id="projectForm">
                    <div class="form-group">
                        <label id="projectNameLabel">Nazwa produktu:</label>
                        <input type="text" id="projectTitle" required>
                    </div>
                    <div class="form-group">
                        <label id="descriptionLabel">Opis:</label>
                        <textarea id="projectDescription" required></textarea>
                    </div>
                    <div class="form-group">
                        <label id="specsLabel">Specyfikacje (oddzielone przecinkami):</label>
                        <input type="text" id="projectSpecs" placeholder="Np: Custom Barrel, Match Trigger">
                    </div>
                    <div class="form-group">
                        <label id="imageLabel">Zdjƒôcie produktu:</label>
                        <input type="file" id="projectImage" accept="image/*">
                        <img id="imagePreview" class="image-preview" alt="PodglƒÖd zdjƒôcia">
                        <small id="imageHelp">Maksymalny rozmiar: 2MB. Obs≈Çugiwane formaty: JPG, PNG, WebP</small>
                    </div>
                    <div class="form-group">
                        <label id="statusLabel">Status:</label>
                        <select id="projectStatus">
                            <option value="available" id="statusAvailableOption">Dostƒôpne do zakupu</option>
                            <option value="sold" id="statusSoldOption">Sprzedane</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label id="yearLabel">Rok:</label>
                        <input type="number" id="projectYear" value="2025">
                    </div>
                    <button type="submit" class="btn" id="addBtn">Dodaj produkt</button>
                </form>
            </div>

            <div class="loading-spinner" id="loadingSpinner">
                ≈Åadowanie...
            </div>

            <div class="current-projects">
                <h4 style="color: #ff6600; margin-bottom: 15px;" id="currentProjectsTitle">Obecne produkty</h4>
                <button class="btn" onclick="loadProductsFromGitHub()" id="refreshBtn">Od≈õwie≈º z GitHub</button>
                <div id="projectsList"></div>
            </div>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="logo.svg" alt="Dexter Logo">
                    </div>
                </div>
                <nav>
                    <ul class="nav-links">
                        <li><a href="#home" id="navHome">Strona g≈Ç√≥wna</a></li>
                        <li><a href="#about" id="navAbout">O pracy</a></li>
                        <li><a href="#portfolio" id="navPortfolio">Moje prace</a></li>
                        <li><a href="#contact" id="navContact">Kontakt</a></li>
                    </ul>
                </nav>
                <a href="#contact" class="contact-btn" id="contactBtn">Skontaktuj siƒô</a>
            </div>
        </div>
    </header>

    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Dexter</h1>
                <div class="subtitle" id="heroSubtitle">Custom Gunsmith Services</div>
                <p id="heroDescription">Tworzƒô unikalne, precyzyjne bro≈Ñ z dba≈Ço≈õciƒÖ o szczeg√≥≈Çy. Ka≈ºdy element jest wykonywany na zam√≥wienie lub jako unikalne dzie≈Ço.</p>
                <a href="#portfolio" class="hero-cta" id="heroButton">Zobacz prace</a>
            </div>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <div class="about-grid">
                <div class="about-text">
                    <h2 id="aboutTitle">O mojej pracy</h2>
                    <p id="aboutText1">Specjalizujƒô siƒô w tworzeniu indywidualnej broni, ka≈ºdy element jest unikalny i wykonany z precyzjƒÖ. Od indywidualnych monta≈ºy po modyfikacje, ka≈ºy produkt realizowany jest z dba≈Ço≈õciƒÖ o szczeg√≥≈Çy.</p>
                    <p id="aboutText2">Moja praca obejmuje r√≥≈ºne typy broni i modyfikacji. Nie prowadzƒô sta≈Çego inwentarza - ka≈ºdy element jest wykonywany na zam√≥wienie lub tworzony jako unikalne dzie≈Ço na sprzeda≈º.</p>
                    <p id="aboutText3">Wysokiej jako≈õci rzemios≈Ço i precyzja to podstawa mojej pracy. Ka≈ºdy produkt to pokaz umiejƒôtno≈õci technicznych i wizji artystycznej.</p>
                </div>
                <div class="about-image">
                    Workshop Photo
                </div>
            </div>
        </div>
    </section>

    <section id="portfolio" class="portfolio">
        <div class="container">
            <div class="section-header">
                <h2 id="portfolioTitle">Moje prace</h2>
                <p id="portfolioSubtitle">Wystawa indywidualnych monta≈ºy i modyfikacji. Ka≈ºdy element reprezentuje unikalne rzemios≈Ço i dba≈Ço≈õƒá o szczeg√≥≈Çy.</p>
            </div>
            <div id="portfolio-container">
                <div class="portfolio-grid" id="portfolioGrid"></div>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <div class="contact-info">
                <h2 id="contactTitle">Kontakt</h2>
                
                <div class="contact-grid">
                    <div class="contact-item">
                        <div class="contact-icon">üì±</div>
                        <div class="contact-details">
                            <h4 id="contactPhone">Telefon</h4>
                            <p><a href="tel:790578409">+48 790 578 409</a></p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">üìç</div>
                        <div class="contact-details">
                            <h4 id="contactAddress">Adres</h4>
                            <p>Krak√≥w, ul. W≈Çadys≈Çawa Reymonta 22B, 31-409</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">üë•</div>
                        <div class="contact-details">
                            <h4>Facebook</h4>
                            <p><a href="https://www.facebook.com/Dexterkrak/" target="_blank">Dexter Krak√≥w</a></p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">üí¨</div>
                        <div class="contact-details">
                            <h4 id="contactInquiries">Zapytania</h4>
                            <p id="contactInquiriesText">Skontaktuj siƒô ze mnƒÖ w sprawie pracy niestandardowej lub aktualnej dostƒôpno≈õci</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">Dexter</div>
                <p id="footerText">¬© 2025 Dexter. Us≈Çugi rusznikarskie w Krakowie.</p>
            </div>
        </div>
    </footer>

    <script>
        let githubConfig = {
            token: localStorage.getItem('githubToken') || '',
            repo: localStorage.getItem('githubRepo') || '',
            branch: 'main'
        };

        let products = [
            {
                title: "Custom AR-15 Build",
                description: "Kompletna niestandardowa konstrukcja z precyzyjnƒÖ lufƒÖ, niestandardowƒÖ grupƒÖ spustowƒÖ i specjalistycznym systemem monta≈ºu optyki.",
                specs: ["Custom Barrel", "Match Trigger", "Precision Optics"],
                status: "sold",
                year: "2024",
                image: null
            },
            {
                title: "Modified Precision Rifle",
                description: "Karabin snajperski dalekiego zasiƒôgu z niestandardowƒÖ kolbƒÖ, ulepszonƒÖ spustowƒÖ i specjalistycznƒÖ obr√≥bkƒÖ lufy.",
                specs: ["Long Range", "Custom Stock", "Precision Barrel"],
                status: "available",
                year: "2024",
                image: null
            },
            {
                title: "Tactical Shotgun Modification",
                description: "Modyfikacje taktyczne obejmujƒÖce niestandardowe wyposa≈ºenie, ulepszony system ≈Çadowania i celowniki precyzyjne.",
                specs: ["Tactical", "Custom Furniture", "Enhanced Loading"],
                status: "sold",
                year: "2023",
                image: null
            }
        ];

        const translations = {
            pl: {
                navHome: "Strona g≈Ç√≥wna",
                navAbout: "O pracy", 
                navPortfolio: "Moje prace",
                navContact: "Kontakt",
                contactBtn: "Skontaktuj siƒô",
                heroSubtitle: "Custom Gunsmith Services",
                heroDescription: "Tworzƒô unikalne, precyzyjne bro≈Ñ z dba≈Ço≈õciƒÖ o szczeg√≥≈Çy. Ka≈ºdy element jest wykonywany na zam√≥wienie lub jako unikalne dzie≈Ço.",
                heroButton: "Zobacz prace",
                aboutTitle: "O mojej pracy",
                aboutText1: "Specjalizujƒô siƒô w tworzeniu indywidualnej broni, ka≈ºdy element jest unikalny i wykonany z precyzjƒÖ. Od indywidualnych monta≈ºy po modyfikacje, ka≈ºdy produkt realizowany jest z dba≈Ço≈õciƒÖ o szczeg√≥≈Çy.",
                aboutText2: "Moja praca obejmuje r√≥≈ºne typy broni i modyfikacji. Nie prowadzƒô sta≈Çego inwentarza - ka≈ºdy element jest wykonywany na zam√≥wienie lub tworzony jako unikalne dzie≈Ço na sprzeda≈º.",
                aboutText3: "Wysokiej jako≈õci rzemios≈Ço i precyzja to podstawa mojej pracy. Ka≈ºdy produkt to pokaz umiejƒôtno≈õci technicznych i wizji artystycznej.",
portfolioTitle: "Moje prace",
portfolioSubtitle: "Wystawa indywidualnych monta≈ºy i modyfikacji. Ka≈ºdy element reprezentuje unikalne rzemios≈Ço i dba≈Ço≈õƒá o szczeg√≥≈Çy.",
contactTitle: "Kontakt",
contactPhone: "Telefon",
contactAddress: "Adres",
contactInquiries: "Zapytania",
contactInquiriesText: "Skontaktuj siƒô ze mnƒÖ w sprawie pracy niestandardowej lub aktualnej dostƒôpno≈õci",
statusAvailable: "Dostƒôpne do zakupu",
statusSold: "Sprzedane",
adminBtn: "ZarzƒÖdzanie",
adminTitle: "ZarzƒÖdzanie katalogiem produkt√≥w",
githubConfigTitle: "Konfiguracja GitHub",
githubTokenLabel: "GitHub Token:",
githubTokenHelp: "Potrzebny do zapisywania zmian. Utw√≥rz w GitHub Settings > Developer settings > Personal access tokens",
githubRepoLabel: "Nazwa repozytorium:",
githubRepoHelp: "Format: username/repository-name",
testConnectionBtn: "Testuj po≈ÇƒÖczenie",
saveConfigBtn: "Zapisz konfiguracjƒô",
addProjectTitle: "Dodaj nowy produkt",
projectNameLabel: "Nazwa produktu:",
descriptionLabel: "Opis:",
specsLabel: "Specyfikacje (oddzielone przecinkami):",
imageLabel: "Zdjƒôcie produktu:",
statusLabel: "Status:",
yearLabel: "Rok:",
addBtn: "Dodaj produkt",
currentProjectsTitle: "Obecne produkty",
refreshBtn: "Od≈õwie≈º z GitHub",
statusAvailableOption: "Dostƒôpne do zakupu",
statusSoldOption: "Sprzedane",
deleteBtn: "Usu≈Ñ",
footerText: "¬© 2025 Dexter. Us≈Çugi rusznikarskie w Krakowie.",
imageHelp: "Maksymalny rozmiar: 2MB. Obs≈Çugiwane formaty: JPG, PNG, WebP"
},
en: {
navHome: "Home",
navAbout: "About",
navPortfolio: "My Work",
navContact: "Contact",
contactBtn: "Get In Touch",
heroSubtitle: "Custom Gunsmith Services",
heroDescription: "Crafting unique, precision firearms with attention to detail. Each piece is custom-made to order or available as one-of-a-kind creations.",
heroButton: "View My Work",
aboutTitle: "About My Work",
aboutText1: "I specialize in creating custom firearms, each one unique and crafted with precision. From custom builds to modifications, every product is approached with meticulous attention to detail.",
aboutText2: "My work spans various types of firearms and modifications. I don't maintain a permanent inventory - each piece is either custom-made to order or created as a unique piece for sale.",
aboutText3: "Quality craftsmanship and precision are the cornerstones of my work. Every product is a showcase of technical skill and artistic vision.",
portfolioTitle: "My Work",
portfolioSubtitle: "A showcase of custom builds and modifications. Each piece represents unique craftsmanship and attention to detail.",
contactTitle: "Contact",
contactPhone: "Phone",
contactAddress: "Location",
contactInquiries: "Inquiries",
contactInquiriesText: "Contact me for custom work or current availability",
statusAvailable: "Available for Purchase",
statusSold: "Sold",
adminBtn: "Management",
adminTitle: "Product Catalog Management",
githubConfigTitle: "GitHub Configuration",
githubTokenLabel: "GitHub Token:",
githubTokenHelp: "Required for saving changes. Create in GitHub Settings > Developer settings > Personal access tokens",
githubRepoLabel: "Repository name:",
githubRepoHelp: "Format: username/repository-name",
testConnectionBtn: "Test connection",
saveConfigBtn: "Save configuration",
addProjectTitle: "Add new product",
projectNameLabel: "product name:",
descriptionLabel: "Description:",
specsLabel: "Specifications (comma separated):",
imageLabel: "product image:",
statusLabel: "Status:",
yearLabel: "Year:",
addBtn: "Add product",
currentProjectsTitle: "Current products",
refreshBtn: "Refresh from GitHub",
statusAvailableOption: "Available for purchase",
statusSoldOption: "Sold",
deleteBtn: "Delete",
footerText: "¬© 2025 Dexter. Custom gunsmith services in Krak√≥w.",
imageHelp: "Maximum size: 2MB. Supported formats: JPG, PNG, WebP"
}
};
    let currentLanguage = localStorage.getItem('dexterLanguage') || 'pl';

    async function loadProductsFromGitHub() {
        if (!githubConfig.repo) {
            showStatus('Nie skonfigurowano repozytorium GitHub', 'error');
            return;
        }

        showLoading(true);
        try {
            const response = await fetch(`https://api.github.com/repos/${githubConfig.repo}/contents/products.json`);
            
            if (response.status === 404) {
                await saveProductsToGitHub();
                showStatus('Utworzono nowy plik products.json', 'success');
            } else if (response.ok) {
                const data = await response.json();
                const content = atob(data.content);
                products = JSON.parse(content);
                renderPortfolio();
                renderProjectsList();
                showStatus('Produkty za≈Çadowane z GitHub', 'success');
            } else {
                throw new Error(`HTTP ${response.status}`);
            }
        } catch (error) {
            console.error('Error loading from GitHub:', error);
            showStatus(`B≈ÇƒÖd ≈Çadowania z GitHub: ${error.message}`, 'error');
        } finally {
            showLoading(false);
        }
    }

    async function saveProductsToGitHub() {
        if (!githubConfig.token || !githubConfig.repo) {
            showStatus('Brak konfiguracji GitHub', 'error');
            return false;
        }

        showLoading(true);
        try {
            let sha = null;
            try {
                const getResponse = await fetch(`https://api.github.com/repos/${githubConfig.repo}/contents/products.json`, {
                    headers: {
                        'Authorization': `token ${githubConfig.token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                if (getResponse.ok) {
                    const existingFile = await getResponse.json();
                    sha = existingFile.sha;
                }
            } catch (e) {
            }
            const content = btoa(JSON.stringify(products, null, 2));
            const payload = {
                message: 'Update products.json',
                content: content,
                branch: githubConfig.branch
            };

            if (sha) {
                payload.sha = sha;
            }

            const response = await fetch(`https://api.github.com/repos/${githubConfig.repo}/contents/products.json`, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${githubConfig.token}`,
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            });

            if (response.ok) {
                showStatus('Produkty zapisane do GitHub', 'success');
                return true;
            } else {
                throw new Error(`HTTP ${response.status}`);
            }
        } catch (error) {
            console.error('Error saving to GitHub:', error);
            showStatus(`B≈ÇƒÖd zapisu do GitHub: ${error.message}`, 'error');
            return false;
        } finally {
            showLoading(false);
        }
    }

    async function testGitHubConnection() {
        const token = document.getElementById('githubToken').value;
        const repo = document.getElementById('githubRepo').value;

        if (!token || !repo) {
            showStatus('Wype≈Çnij wszystkie pola', 'error');
            return;
        }

        showLoading(true);
        try {
            const response = await fetch(`https://api.github.com/repos/${repo}`, {
                headers: {
                    'Authorization': `token ${token}`,
                    'Accept': 'application/vnd.github.v3+json'
                }
            });

            if (response.ok) {
                showStatus('Po≈ÇƒÖczenie z GitHub dzia≈Ça!', 'success');
            } else {
                throw new Error(`HTTP ${response.status}`);
            }
        } catch (error) {
            console.error('GitHub connection test failed:', error);
            showStatus(`B≈ÇƒÖd po≈ÇƒÖczenia: ${error.message}`, 'error');
        } finally {
            showLoading(false);
        }
    }

    function saveGitHubConfig() {
        const token = document.getElementById('githubToken').value;
        const repo = document.getElementById('githubRepo').value;

        if (!token || !repo) {
            showStatus('Wype≈Çnij wszystkie pola', 'error');
            return;
        }

        githubConfig.token = token;
        githubConfig.repo = repo;

        localStorage.setItem('githubToken', token);
        localStorage.setItem('githubRepo', repo);

        showStatus('Konfiguracja zapisana', 'success');
    }

    function showStatus(message, type) {
        const indicator = document.getElementById('statusIndicator');
        indicator.textContent = message;
        indicator.className = `status-indicator status-${type}`;
        indicator.style.display = 'block';

        setTimeout(() => {
            indicator.style.display = 'none';
        }, 5000);
    }

    function showLoading(show) {
        document.getElementById('loadingSpinner').style.display = show ? 'block' : 'none';
    }

    function processImageFile(file) {
        return new Promise((resolve, reject) => {
            if (file.size > 2 * 1024 * 1024) {
                const errorText = currentLanguage === 'pl' ? 
                    'Plik jest zbyt du≈ºy! Maksymalny rozmiar: 2MB' : 
                    'File is too large! Maximum size: 2MB';
                reject(errorText);
                return;
            }

            if (!file.type.startsWith('image/')) {
                const errorText = currentLanguage === 'pl' ? 
                    'Nieprawid≈Çowy typ pliku! Wybierz obraz.' : 
                    'Invalid file type! Please select an image.';
                reject(errorText);
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');

                    const maxWidth = 800;
                    const maxHeight = 600;
                    
                    let { width, height } = img;

                    if (width > height) {
                        if (width > maxWidth) {
                            height = (height * maxWidth) / width;
                            width = maxWidth;
                        }
                    } else {
                        if (height > maxHeight) {
                            width = (width * maxHeight) / height;
                            height = maxHeight;
                        }
                    }

                    canvas.width = width;
                    canvas.height = height;
                    ctx.drawImage(img, 0, 0, width, height);
                    const compressedImage = canvas.toDataURL('image/jpeg', 0.8);
                    resolve(compressedImage);
                };
                img.src = e.target.result;
            };
            reader.onerror = () => reject('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞');
            reader.readAsDataURL(file);
        });
    }

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('dexterLanguage', lang);
        
        document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
        if (lang === 'pl') {
            document.getElementById('langPl').classList.add('active');
        } else if (lang === 'en') {
            document.getElementById('langEn').classList.add('active');
        }
        
        Object.keys(translations[lang]).forEach(key => {
            const element = document.getElementById(key);
            if (element) {
                element.textContent = translations[lang][key];
            }
        });
        
        renderPortfolio();
        renderProjectsList();
    }

    function renderPortfolio() {
        const grid = document.getElementById('portfolioGrid');
        grid.innerHTML = '';

        products.forEach((product, index) => {
            const statusClass = product.status === 'available' ? 'status-available' : 'status-sold';
            const statusText = product.status === 'available' ? translations[currentLanguage].statusAvailable : translations[currentLanguage].statusSold;

            const productElement = document.createElement('div');
            productElement.className = 'portfolio-item';
            
            const imageContent = product.image ? 
                `<img src="${product.image}" alt="${product.title}">` : 
                'product Photo';
            
            productElement.innerHTML = `
                <div class="portfolio-image">${imageContent}</div>
                <div class="portfolio-content">
                    <div class="portfolio-title">${product.title}</div>
                    <div class="portfolio-description">${product.description}</div>
                    <div class="portfolio-specs">
                        ${product.specs.map(spec => `<span class="spec-tag">${spec}</span>`).join('')}
                        ${product.year ? `<span class="spec-tag">${product.year}</span>` : ''}
                    </div>
                    <div class="portfolio-status ${statusClass}">${statusText}</div>
                </div>
            `;
            grid.appendChild(productElement);
        });
    }

    function renderProjectsList() {
        const list = document.getElementById('projectsList');
        list.innerHTML = '';

        products.forEach((product, index) => {
            const productDiv = document.createElement('div');
            productDiv.className = 'project-item';
            productDiv.innerHTML = `
                <h4>${product.title}</h4>
                <p><strong>${translations[currentLanguage].statusLabel}</strong> ${product.status === 'available' ? translations[currentLanguage].statusAvailableOption : translations[currentLanguage].statusSoldOption}</p>
                <p><strong>${translations[currentLanguage].yearLabel}</strong> ${product.year}</p>
                ${product.image ? '<p><strong>üì∏</strong> Zdjƒôcie za≈ÇƒÖczone</p>' : ''}
                <button class="btn btn-danger" onclick="removeProduct(${index})">${translations[currentLanguage].deleteBtn}</button>
            `;
            list.appendChild(productDiv);
        });
    }

    async function addProduct(productData) {
        products.push(productData);
        await saveProductsToGitHub();
        renderPortfolio();
        renderProjectsList();
    }

    async function removeProduct(index) {
        const confirmText = currentLanguage === 'pl' ? 
            'Czy na pewno chcesz usunƒÖƒá ten produkt?' : 
            'Are you sure you want to delete this product?';
        
        if (confirm(confirmText)) {
            products.splice(index, 1);
            await saveProductsToGitHub();
            renderPortfolio();
            renderProjectsList();
        }
    }

    function openAdminPanel() {
        const passwords = {
            pl: 'Wprowad≈∫ has≈Ço administratora:',
            en: 'Enter administrator password:'
        };
        
        const password = prompt(passwords[currentLanguage]);
        const correctPassword = 'dexter2025';
        
        if (password === correctPassword) {
            document.getElementById('adminModal').style.display = 'block';
            
            document.getElementById('githubToken').value = githubConfig.token;
            document.getElementById('githubRepo').value = githubConfig.repo;
            
            renderProjectsList();
        } else if (password !== null) {
            const errorMessages = {
                pl: 'Nieprawid≈Çowe has≈Ço!',
                en: 'Incorrect password!'
            };
            alert(errorMessages[currentLanguage]);
        }
    }

    function closeAdminPanel() {
        document.getElementById('adminModal').style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', function() {
        const imageInput = document.getElementById('projectImage');
        const imagePreview = document.getElementById('imagePreview');

        if (imageInput && imagePreview) {
            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    processImageFile(file)
                        .then(compressedImage => {
                            imagePreview.src = compressedImage;
                            imagePreview.style.display = 'block';
                        })
                        .catch(error => {
                            alert(error);
                            imageInput.value = '';
                            imagePreview.style.display = 'none';
                        });
                } else {
                    imagePreview.style.display = 'none';
                }
            });
        }

        document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
        if (currentLanguage === 'pl') {
            document.getElementById('langPl').classList.add('active');
        } else if (currentLanguage === 'en') {
            document.getElementById('langEn').classList.add('active');
        }
        
        changeLanguage(currentLanguage);
        renderPortfolio();
        
        if (githubConfig.repo) {
            loadProductsFromGitHub();
        }
    });

    document.getElementById('projectForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const title = document.getElementById('projectTitle').value;
        const description = document.getElementById('projectDescription').value;
        const specs = document.getElementById('projectSpecs').value.split(',').map(s => s.trim()).filter(s => s);
        const status = document.getElementById('projectStatus').value;
        const year = document.getElementById('projectYear').value;
        const imagePreview = document.getElementById('imagePreview');
        const image = imagePreview.style.display === 'block' ? imagePreview.src : null;

        await addProduct({ title, description, specs, status, year, image });
        
        this.reset();
        imagePreview.style.display = 'none';
        const successText = currentLanguage === 'pl' ? 
            'produkt dodany pomy≈õlnie!' : 
            'product added successfully!';
        showStatus(successText, 'success');
    });

    document.addEventListener('click', function(e) {
        if (e.target === document.getElementById('adminModal')) {
            closeAdminPanel();
        }
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
</body>
</html>